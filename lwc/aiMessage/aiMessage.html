<template>
    <div class={bubbleClass}>
        <template lwc:if={link}>
            <pre class="contentToCopy"><a href={link} target="_blank">{content}</a></pre>
        </template>
        <template lwc:else>
            <!-- NOTE: we need data-content to ensure that when content changes, the component is re-rendered -->
             <pre class="contentToCopy" data-content={content} lwc:dom="manual"></pre>
        </template>

        <div class="actions">
            <template lwc:if={copy}>
                <lightning-button
                    icon-name="utility:copy_to_clipboard"
                    icon-position="right"
                    label="Copy to clipboard"
                    variant="base"
                    class="slds-m-right_xx-small tinybutton"
                    onclick={handleCopy}>
                </lightning-button>
            </template>
            <template lwc:if={more}>
                <lightning-button
                    class="show-more slds-m-right_x-small tinybutton"
                    label="Show more"
                    variant="base"
                    onclick={handleContinue}>
                </lightning-button>
            </template>
        </div>
    </div>
    <small class={role}>
        {sender}
    </small>
</template>